.. link:
.. description:
.. tags: quora, python, technical stuff
.. date: 2014/03/02 04:14:20
.. title: [Q] What are the best Python scripts you've ever written?
.. slug: q-what-are-the-best-python-scripts-youve-ever-written

**Win** `Indian Premier League (cricket)`_ **tickets**
Everybody knows how hard it is to get IPL tickets.
CocaCola had an online voting contest, where you upload your picture and other Facebook users have to vote on the picture, at the end of the day the user with most votes will get 2 IPL tickets. I used the following script, and won 2 tickets (twice). FYI, MI v/s CSK and MI v/s RCB ;)

.. TEASER_END

.. code:: python

    import pickle
    import time
    import urllib2
    import urllib
    import random
    import thread
    from p_friends import data as friends

    url = "https://www.afancan.com/thefanstation/happinesswall/api/castVotefb.php"
    TIME_LOWER_LIMIT = 2
    TIME_UPPER_LIMIT = 10


    def go_fish(friends):
        for friend in friends:
            req = urllib2.Request(url)
            #req = urllib2.Request("Page on Localhost")
            req.add_header('Accept', '*/*')
            # req.add_header('Accept-Encoding', 'gzip, deflate')
            req.add_header('Content-Type','application/x-www-form-urlencoded; charset=UTF-8')
            req.add_header('Cookie', 'a very long cookie')
            req.add_header('Host', 'Page on Afancan')
            req.add_header('Referer','http://www.afancan.com/thefanstation/happinesswall/')
            req.add_header('User-Agent', 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:12.0) Gecko/20100101 Firefox/12.0')
            req.add_header('X-Requested-With', 'XMLHttpRequest')
            s = urllib2.urlopen(req, urllib.urlencode({'m':'1116591190', 'uid':friend['id']}))
            print "%s(%s) voted with response as %s" % (friend['name'], friend['id'], s.read())
            # time.sleep(random.randint(TIME_LOWER_LIMIT, TIME_UPPER_LIMIT))

    try:
        thread.start_new_thread(go_fish, (friends[ : len(friends)/5],))
        thread.start_new_thread(go_fish, (friends[len(friends)/5 : 2*len(friends)/5],))
        thread.start_new_thread(go_fish, (friends[2*len(friends)/5 : 3*len(friends)/5],))
        thread.start_new_thread(go_fish, (friends[3*len(friends)/5 : 4*len(friends)/5],))
        thread.start_new_thread(go_fish, (friends[4*len(friends)/5 : ],))
    except:
        print "Unable to start thread"

    while 1:
        pass


**Crack another online contest**
This one was just for the fun of it, to see if its possible to do it, didn't run the script for too long, and of course didn't win :)

.. code:: python

    import urllib2
    import thread
    from p_friends import data as friends

    url = "https://faceoffmen.com/ajax/vote"
    TIME_LOWER_LIMIT = 2
    TIME_UPPER_LIMIT = 10


    def go_fish(friends):
        for friend in friends:
            req = urllib2.Request(url)
            #req = urllib2.Request("Page on Localhost")
            req.add_header('Accept', 'application/json, text/javascript, */*; q=0.01')
            # req.add_header('Accept-Encoding', 'gzip, deflate')
            req.add_header('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8')
            req.add_header('Cookie', 'my cookie')
            req.add_header('Host', 'Page on Faceoffmen')
            req.add_header('Referer', 'Page on Faceoffmen')
            req.add_header('User-Agent', 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:12.0) Gecko/20100101 Firefox/12.0')
            req.add_header('X-Requested-With', 'XMLHttpRequest')
            s = urllib2.urlopen(req, "facebook_id=10000000000000000000&prev_facebook_id=100000184461066&next_facebook_friend=0")
            print "%s(%s) voted with response as %s" % (friend['name'], friend['id'], s.read())
            # time.sleep(random.randint(TIME_LOWER_LIMIT, TIME_UPPER_LIMIT))

    try:
        thread.start_new_thread(go_fish, (friends[:len(friends)/5],))
        thread.start_new_thread(go_fish, (friends[len(friends)/5:2*len(friends)/5],))
        thread.start_new_thread(go_fish, (friends[2*len(friends)/5:3*len(friends)/5],))
        thread.start_new_thread(go_fish, (friends[3*len(friends)/5:4*len(friends)/5],))
        thread.start_new_thread(go_fish, (friends[4*len(friends)/5:],))
    except:
        print "Unable to start thread"

    while 1:
        pass


then I never tried breaking into these contests, I only cracked them to see if they could be.

**Check Mumbai University results**
Check if the results of my final year exam were out or not, if the results were out, the script would start the VLC player on my machine and start playing music. Used the same script to check result for HSC examinations.

.. code:: python

    import urllib2
    import time
    import tweepy
    import os

    consumer_key = ''
    consumer_secret = ''
    access_token = ''
    access_secret = ''

    tweet_string = 'twitter set @dhruvbaldawa Result for %s %s declared.'
    url = 'http://results.mu.ac.in/choose_nob.php?exam_id=%s&exam_year=2012&exam_month=MAY'

    auth = tweepy.OAuthHandler(consumer_key, consumer_secret)
    auth.set_access_token(access_token, access_secret)

    t = tweepy.API(auth)

    id_start = 2765

    id_ = id_start
    while True:
        url_socket = urllib2.urlopen(url % id_)
        temp = url_socket.read().lower()
        if temp.find('no such exam!!') < 0:
            if temp.find('computer') > 0:
                print(tweet_string % (id_, True))
                # os.system(tweet_string % (id_, True))
                os.system("vlc ~/01.mp3")
            else:
                print(tweet_string % (id_, False))
                # os.system(tweet_string % (id_, False))
            id_ += 1
        else:
            time.sleep(300)


**Send free SMS through Way2SMS/Site2SMS**

The code is here: https://github.com/dhruvbaldawa/Tutorials/tree/master/sms;

**My solutions to `Project Euler`_ problems**

https://github.com/dhruvbaldawa/project_euler;

**Android push notifications server**

In roughly 20 lines of code.

https://github.com/dhruvbaldawa/android_gcm/blob/master/gcm-server.py;


P.S.: original answer on Quora `here <https://www.quora.com/Python-programming-language-1/What-are-the-best-Python-scripts-youve-ever-written/answer/Dhruv-Hari-Baldawa>`_

.. _Indian Premier League (cricket): https://en.wikipedia.org/wiki/Indian_Premier_League
.. _Project Euler: http://projecteuler.net/
